"use strict";(self.webpackChunkrx_f1_hero_devs=self.webpackChunkrx_f1_hero_devs||[]).push([[107],{4107:(L,v,a)=>{a.r(v),a.d(v,{default:()=>J});var D=a(5861),e=a(4650),m=a(6895),p=a(8176),Z=a(4004),f=a(3151),q=a(3900),F=a(190),d=a(2867),$=a(7616),y=a(4549);class s{constructor(){this.http=(0,e.f3M)(d.O),this.path="drivers.json"}getAll(t){const{season:n,...c}=t??{},i=(0,$.V)(c),j=(0,F.Z)(n)?`${n}/`:"";return this.http.get(`${j}${this.path}`,{params:i}).pipe((0,y.Oi)("Driver"))}}s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac});var N=a(2546),g=a(4717);function T(r){const t=(0,g.J)(r);return t.season=t.season?Number(t.season):2018,t}function A(r){const t=(0,N.Z)(r);return 2018===t.season&&delete t.season,(0,g.m)(t)}class o{constructor(){this.driverService=(0,e.f3M)(s),this.loading=(0,e.f3M)(d.b),this.route=(0,e.f3M)(p.gz),this.queryParams$=this.route.queryParams.pipe((0,Z.U)(T),(0,f.d)(1)),this.data$=this.queryParams$.pipe((0,q.w)(t=>this.driverService.getAll(t).pipe((0,y.sU)(this.loading))),(0,f.d)(1)),this.loading$=this.loading.isLoading$}}o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac});var P=a(982),h=a(9549),C=a(4385),M=a(9024),O=a(3238);function Q(r,t){if(1&r&&(e.TgZ(0,"mat-option",3),e._uU(1),e.qZA()),2&r){const n=t.$implicit;e.Q6J("value",n),e.xp6(1),e.hij(" ",n," ")}}const z=function(){return[2018,2019,2020,2021,2022]};class l{constructor(){this.queryChange=new e.vpe}}l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-filters"]],inputs:{query:"query"},outputs:{queryChange:"queryChange"},standalone:!0,features:[e.jDz],decls:5,vars:3,consts:[["appearance","fill"],["appSelectFilter","season",3,"value","queryChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-form-field",0)(1,"mat-label"),e._uU(2,"Season"),e.qZA(),e.TgZ(3,"mat-select",1),e.NdJ("queryChange",function(i){return n.queryChange.emit(i)}),e.YNc(4,Q,2,2,"mat-option",2),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("value",null==n.query?null:n.query.season),e.xp6(1),e.Q6J("ngForOf",e.DdM(2,z)))},dependencies:[m.ez,m.sg,h.lN,h.KE,h.hX,C.LD,C.gD,O.ey,M.f],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});class u{constructor(){this.facade=(0,e.f3M)(o),this.route=(0,e.f3M)(p.gz),this.router=(0,e.f3M)(p.F0),this.columns=[{name:"id",title:"Id",value:t=>t.driverId},{name:"name",title:"Name",value:t=>`${t.givenName} ${t.familyName}`},{name:"permanentNumber",title:"Permanent Number",value:t=>t.permanentNumber},{name:"nationality",title:"Nationality",value:t=>t.nationality},{name:"dob",title:"DOB",value:t=>t.dateOfBirth},{name:"info",title:"Information",value:{url:t=>t.url,text:"Biography"},type:"link"}]}onQueryChange(t){var n=this;return(0,D.Z)(function*(){return yield n.router.navigate([],{queryParams:A({...n.route.snapshot.queryParams,...t})})})()}}u.\u0275fac=function(t){return new(t||u)},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-drivers"]],standalone:!0,features:[e._Bn([o]),e.jDz],decls:8,vars:13,consts:[[3,"query","queryChange"],[3,"columns","data","loading","query","queryChange"]],template:function(t,n){1&t&&(e.TgZ(0,"h1"),e._uU(1,"Drivers per season"),e.qZA(),e.TgZ(2,"app-filters",0),e.NdJ("queryChange",function(i){return n.onQueryChange(i)}),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"app-table-preview",1),e.NdJ("queryChange",function(i){return n.onQueryChange(i)}),e.ALo(5,"async"),e.ALo(6,"async"),e.ALo(7,"async"),e.qZA()),2&t&&(e.xp6(2),e.Q6J("query",e.lcZ(3,5,n.facade.queryParams$)),e.xp6(2),e.Q6J("columns",n.columns)("data",e.lcZ(5,7,n.facade.data$))("loading",e.lcZ(6,9,n.facade.loading$))("query",e.lcZ(7,11,n.facade.queryParams$)))},dependencies:[m.ez,m.Ov,l,P.m],styles:["[_nghost-%COMP%]{display:grid;grid-template-rows:auto auto 1fr;height:100%;min-height:-webkit-fill-available;min-height:-moz-available;min-height:stretch}"],changeDetection:0});const J=[{path:"",component:u,providers:[s]}]}}]);