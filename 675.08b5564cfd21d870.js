"use strict";(self.webpackChunkrx_f1_hero_devs=self.webpackChunkrx_f1_hero_devs||[]).push([[675],{2675:(O,g,s)=>{s.r(g),s.d(g,{default:()=>F});var e=s(4650),p=s(6895),f=s(9299),C=s(4004),m=s(3151),R=s(3900),d=s(6448),Z=s(7616),y=s(4549);class o{constructor(){this.http=(0,e.f3M)(d.OE),this.path="results.json"}getAll(t){const{season:a,...u}=t??{},c=(0,Z.V)(u);return this.http.get(`${a?`${a}/`:""}${this.path}`,{params:c}).pipe((0,y.Oi)("Race"))}}o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac});var $=s(2546),v=s(8645);function x(n){const t=(0,v.J2)(n);return t.season=t.season?Number(t.season):2018,t}function M(n){const t=(0,$.Z)(n);return 2018===t.season&&delete t.season,(0,v.mj)(t)}class r{constructor(){this.raceService=(0,e.f3M)(o),this.loading=(0,e.f3M)(d.bz),this.route=(0,e.f3M)(f.gz),this.queryParams$=this.route.queryParams.pipe((0,C.U)(x),(0,m.d)(1)),this.data$=this.queryParams$.pipe((0,R.w)(t=>this.raceService.getAll(t).pipe((0,y.sU)(this.loading))),(0,m.d)(1)),this.loading$=this.loading.isLoading$}}r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac});var h=s(4055),P=s(7858);const Q=function(n,t){return{count:n,result:t}};function A(n,t){if(1&n){const a=e.EpF();e.ynx(0),e.TgZ(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"app-table-preview",3),e.NdJ("queryChange",function(c){e.CHM(a);const i=e.oxw(2);return e.KtG(i.onQueryChange(c))}),e.ALo(4,"async"),e.qZA(),e._UZ(5,"br")(6,"hr")(7,"br"),e.BQk()}if(2&n){const a=t.$implicit,u=t.last,c=e.oxw().ngIf,i=e.oxw();e.xp6(2),e.AsE("",a.season," ",a.raceName,""),e.xp6(1),e.Q6J("columns",i.columns)("data",e.WLB(8,Q,c.count,a.Results))("query",e.lcZ(4,6,i.facade.queryParams$))("showPagination",u)}}function N(n,t){if(1&n&&(e.ynx(0),e.YNc(1,A,8,11,"ng-container",2),e.BQk()),2&n){const a=t.ngIf;e.xp6(1),e.Q6J("ngForOf",a.result)}}function T(n,t){1&n&&e._UZ(0,"app-full-screen-loading-spinner")}class l{constructor(){this.facade=(0,e.f3M)(r),this.route=(0,e.f3M)(f.gz),this.router=(0,e.f3M)(f.F0),this.onQueryChange=(0,e.f3M)(P.D)(M),this.columns=[{title:"Pos",value:t=>t.position},{title:"No",value:t=>t.number},{title:"Driver",value:({Driver:t})=>`${t.givenName} ${t.familyName}`},{title:"Constructor",value:({Constructor:t})=>t.name},{title:"Laps",value:t=>t.laps},{title:"Grid",value:t=>t.grid},{title:"Time",value:({Time:t})=>t?.time??""},{title:"Status",value:t=>t.status},{title:"Points",value:t=>t.points}],this.filters=[{name:"season",title:"Season",type:"select",options:[2018,2019,2020,2021,2022]}]}}l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-races"]],standalone:!0,features:[e._Bn([r]),e.jDz],decls:8,vars:10,consts:[[3,"filters","query","queryChange"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"columns","data","query","showPagination","queryChange"]],template:function(t,a){1&t&&(e.TgZ(0,"h1"),e._uU(1,"Races per season with final results"),e.qZA(),e.TgZ(2,"app-list-filter",0),e.NdJ("queryChange",function(c){return a.onQueryChange(c)}),e.ALo(3,"async"),e.qZA(),e.YNc(4,N,2,1,"ng-container",1),e.ALo(5,"async"),e.YNc(6,T,1,0,"app-full-screen-loading-spinner",1),e.ALo(7,"async")),2&t&&(e.xp6(2),e.Q6J("filters",a.filters)("query",e.lcZ(3,4,a.facade.queryParams$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(5,6,a.facade.data$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(7,8,a.facade.loading$)))},dependencies:[p.ez,p.sg,p.O5,p.Ov,h.mM,h.aN,h.Hx],styles:["[_nghost-%COMP%]{display:block}.spinner[_ngcontent-%COMP%]{align-items:center;display:flex;height:100vh;justify-content:center;position:fixed;width:100%;top:0}"],changeDetection:0});const F=[{path:"",component:l,providers:[o]}]}}]);