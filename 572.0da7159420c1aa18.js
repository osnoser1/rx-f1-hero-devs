"use strict";(self.webpackChunkrx_f1_hero_devs=self.webpackChunkrx_f1_hero_devs||[]).push([[572],{4572:(R,g,a)=>{a.r(g),a.d(g,{default:()=>j});var Z=a(5861),e=a(4650),l=a(6895),m=a(8176),q=a(4004),h=a(3151),D=a(3900),f=a(190),v=a(2867),F=a(7616),y=a(4549);class o{constructor(){this.http=(0,e.f3M)(v.O),this.path="driverStandings.json"}getAll(n){const{season:t,round:u,...s}=n??{},U=(0,F.V)(s),Y=(0,f.Z)(t)?`${t}/`:"",X=(0,f.Z)(u)?`${u}/`:"";return this.http.get(`${Y}${X}${this.path}`,{params:U}).pipe((0,y.Oi)("Standings","StandingsLists[0].DriverStandings"))}}o.\u0275fac=function(n){return new(n||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac});var T=a(2546),C=a(4717);function $(r){const n=(0,C.J)(r);return n.season=n.season?Number(n.season):2018,n.round=n.round?Number(n.round):"last",n}function A(r){const n=(0,T.Z)(r);return 2018===n.season&&delete n.season,"last"===n.round&&delete n.round,(0,C.m)(n)}class i{constructor(){this.driverStandingsService=(0,e.f3M)(o),this.loading=(0,e.f3M)(v.b),this.route=(0,e.f3M)(m.gz),this.queryParams$=this.route.queryParams.pipe((0,q.U)($),(0,h.d)(1)),this.data$=this.queryParams$.pipe((0,D.w)(n=>this.driverStandingsService.getAll(n).pipe((0,y.sU)(this.loading))),(0,h.d)(1)),this.loading$=this.loading.isLoading$}}i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac});var P=a(982),p=a(9549),S=a(4385),Q=a(9024),J=a(3238);function M(r,n){if(1&r&&(e.TgZ(0,"mat-option",5),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function N(r,n){if(1&r&&(e.TgZ(0,"mat-option",5),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}const O=function(){return[2018,2019,2020,2021,2022]},z=function(){return{marginLeft:"20px"}},L=function(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]};class c{constructor(){this.queryChange=new e.vpe}}c.\u0275fac=function(n){return new(n||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-filters"]],inputs:{query:"query"},outputs:{queryChange:"queryChange"},standalone:!0,features:[e.jDz],decls:12,vars:8,consts:[["appSelectFilter","season","placeholder","Season",3,"value","queryChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngStyle"],["appSelectFilter","round",3,"value","queryChange"],["value","last"],[3,"value"]],template:function(n,t){1&n&&(e.TgZ(0,"mat-form-field")(1,"mat-label"),e._uU(2,"Season"),e.qZA(),e.TgZ(3,"mat-select",0),e.NdJ("queryChange",function(s){return t.queryChange.emit(s)}),e.YNc(4,M,2,2,"mat-option",1),e.qZA()(),e.TgZ(5,"mat-form-field",2)(6,"mat-label"),e._uU(7,"Round"),e.qZA(),e.TgZ(8,"mat-select",3),e.NdJ("queryChange",function(s){return t.queryChange.emit(s)}),e.TgZ(9,"mat-option",4),e._uU(10,"Last"),e.qZA(),e.YNc(11,N,2,2,"mat-option",1),e.qZA()()),2&n&&(e.xp6(3),e.Q6J("value",null==t.query?null:t.query.season),e.xp6(1),e.Q6J("ngForOf",e.DdM(5,O)),e.xp6(1),e.Q6J("ngStyle",e.DdM(6,z)),e.xp6(3),e.Q6J("value",null==t.query?null:t.query.round),e.xp6(3),e.Q6J("ngForOf",e.DdM(7,L)))},dependencies:[l.ez,l.sg,l.PC,p.lN,p.KE,p.hX,S.LD,S.gD,J.ey,Q.f],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});class d{constructor(){this.facade=(0,e.f3M)(i),this.route=(0,e.f3M)(m.gz),this.router=(0,e.f3M)(m.F0),this.columns=[{name:"pos",title:"Pos",value:n=>n.position},{name:"driver",title:"Driver",value:({Driver:n})=>`${n.givenName} ${n.familyName}`},{name:"constructor",title:"Constructor",value:({Constructors:n})=>n[0]?.name},{name:"points",title:"Points",value:n=>n.points},{name:"wins",title:"Wins",value:n=>n.wins}]}onQueryChange(n){var t=this;return(0,Z.Z)(function*(){return yield t.router.navigate([],{queryParams:A({...t.route.snapshot.queryParams,...n})})})()}}d.\u0275fac=function(n){return new(n||d)},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-driver-standings"]],standalone:!0,features:[e._Bn([i]),e.jDz],decls:8,vars:13,consts:[[3,"query","queryChange"],[3,"columns","data","loading","query","queryChange"]],template:function(n,t){1&n&&(e.TgZ(0,"h1"),e._uU(1,"Driver Standings after a race"),e.qZA(),e.TgZ(2,"app-filters",0),e.NdJ("queryChange",function(s){return t.onQueryChange(s)}),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"app-table-preview",1),e.NdJ("queryChange",function(s){return t.onQueryChange(s)}),e.ALo(5,"async"),e.ALo(6,"async"),e.ALo(7,"async"),e.qZA()),2&n&&(e.xp6(2),e.Q6J("query",e.lcZ(3,5,t.facade.queryParams$)),e.xp6(2),e.Q6J("columns",t.columns)("data",e.lcZ(5,7,t.facade.data$))("loading",e.lcZ(6,9,t.facade.loading$))("query",e.lcZ(7,11,t.facade.queryParams$)))},dependencies:[l.ez,l.Ov,c,P.m],styles:["[_nghost-%COMP%]{display:grid;grid-template-rows:auto auto 1fr;height:100%;min-height:-webkit-fill-available;min-height:-moz-available;min-height:stretch}"],changeDetection:0});const j=[{path:"",component:d,providers:[o]}]}}]);