"use strict";(self.webpackChunkrx_f1_hero_devs=self.webpackChunkrx_f1_hero_devs||[]).push([[281],{7827:(O,c,a)=>{a.r(c),a.d(c,{default:()=>P});var e=a(4650),v=a(6895),u=a(9299),g=a(4004),d=a(3151),D=a(3900),C=a(190),m=a(6448),$=a(7616),f=a(4549);class n{constructor(){this.http=(0,e.f3M)(m.OE),this.path="drivers.json"}getAll(t){const{season:r,...h}=t??{},l=(0,$.V)(h),z=(0,C.Z)(r)?`${r}/`:"";return this.http.get(`${z}${this.path}`,{params:l}).pipe((0,f.Oi)("Driver"))}}n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac});var Z=a(2546),p=a(8645);function M(s){const t=(0,p.J2)(s);return t.season=t.season?Number(t.season):2018,t}function N(s){const t=(0,Z.Z)(s);return 2018===t.season&&delete t.season,(0,p.mj)(t)}class o{constructor(){this.driverService=(0,e.f3M)(n),this.loading=(0,e.f3M)(m.bz),this.route=(0,e.f3M)(u.gz),this.queryParams$=this.route.queryParams.pipe((0,g.U)(M),(0,d.d)(1)),this.data$=this.queryParams$.pipe((0,D.w)(t=>this.driverService.getAll(t).pipe((0,f.sU)(this.loading))),(0,d.d)(1)),this.loading$=this.loading.isLoading$}}o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac});var y=a(4055),A=a(7858);class i{constructor(){this.facade=(0,e.f3M)(o),this.route=(0,e.f3M)(u.gz),this.router=(0,e.f3M)(u.F0),this.onQueryChange=(0,e.f3M)(A.D)(N),this.columns=[{title:"Id",value:t=>t.driverId},{title:"Name",value:t=>`${t.givenName} ${t.familyName}`},{title:"Permanent Number",value:t=>t.permanentNumber},{title:"Nationality",value:t=>t.nationality},{title:"DOB",value:t=>t.dateOfBirth},{title:"Information",value:{url:t=>t.url,text:"Biography"},type:"link"}],this.filters=[{name:"season",title:"Season",type:"select",options:[2018,2019,2020,2021,2022]}]}}i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-drivers"]],standalone:!0,features:[e._Bn([o]),e.jDz],decls:8,vars:14,consts:[[3,"filters","query","queryChange"],[3,"columns","data","loading","query","queryChange"]],template:function(t,r){1&t&&(e.TgZ(0,"h1"),e._uU(1,"Drivers per season"),e.qZA(),e.TgZ(2,"app-list-filter",0),e.NdJ("queryChange",function(l){return r.onQueryChange(l)}),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"app-table-preview",1),e.NdJ("queryChange",function(l){return r.onQueryChange(l)}),e.ALo(5,"async"),e.ALo(6,"async"),e.ALo(7,"async"),e.qZA()),2&t&&(e.xp6(2),e.Q6J("filters",r.filters)("query",e.lcZ(3,6,r.facade.queryParams$)),e.xp6(2),e.Q6J("columns",r.columns)("data",e.lcZ(5,8,r.facade.data$))("loading",e.lcZ(6,10,r.facade.loading$))("query",e.lcZ(7,12,r.facade.queryParams$)))},dependencies:[v.ez,v.Ov,y.mM,y.Hx],styles:["[_nghost-%COMP%]{display:grid;grid-template-rows:auto auto 1fr;height:100%;min-height:-webkit-fill-available;min-height:-moz-available;min-height:stretch}"],changeDetection:0});const P=[{path:"",component:i,providers:[n]}]}}]);