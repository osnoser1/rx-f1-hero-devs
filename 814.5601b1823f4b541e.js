"use strict";(self.webpackChunkrx_f1_hero_devs=self.webpackChunkrx_f1_hero_devs||[]).push([[814],{3814:(E,y,o)=>{o.r(y),o.d(y,{default:()=>I});var F=o(5861),n=o(4650),i=o(6895),g=o(8176),T=o(4004),d=o(3151),A=o(3900),h=o(190),v=o(2867),$=o(7616),C=o(4549);class l{constructor(){this.http=(0,n.f3M)(v.O),this.path="qualifying.json"}getAll(e){const{season:t,round:s,...r}=e??{},c=(0,$.V)(r??{}),R=(0,h.Z)(t)?`${t}/`:"",B=(0,h.Z)(s)?`${s}/`:"";return this.http.get(`${R}${B}${this.path}`,{params:c}).pipe((0,C.Oi)("Race"))}}l.\u0275fac=function(e){return new(e||l)},l.\u0275prov=n.Yz7({token:l,factory:l.\u0275fac});var J=o(2546),Q=o(4717);function N(a){const e=(0,Q.J)(a);return e.season=e.season?Number(e.season):2018,e.round=e.round?Number(e.round):"all",e}function P(a){const e=(0,J.Z)(a);return 2018===e.season&&delete e.season,"all"===e.round&&delete e.round,(0,Q.m)(e)}class u{constructor(){this.qualifyingService=(0,n.f3M)(l),this.loading=(0,n.f3M)(v.b),this.route=(0,n.f3M)(g.gz),this.queryParams$=this.route.queryParams.pipe((0,T.U)(N),(0,d.d)(1)),this.data$=this.queryParams$.pipe((0,A.w)(e=>this.qualifyingService.getAll(e).pipe((0,C.sU)(this.loading))),(0,d.d)(1)),this.loading$=this.loading.isLoading$}}u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=n.Yz7({token:u,factory:u.\u0275fac});var q=o(982),m=o(9549),Z=o(4385),x=o(9024),M=o(3238);function O(a,e){if(1&a&&(n.TgZ(0,"mat-option",5),n._uU(1),n.qZA()),2&a){const t=e.$implicit;n.Q6J("value",t),n.xp6(1),n.hij(" ",t," ")}}function U(a,e){if(1&a&&(n.TgZ(0,"mat-option",5),n._uU(1),n.qZA()),2&a){const t=e.$implicit;n.Q6J("value",t),n.xp6(1),n.hij(" ",t," ")}}const D=function(){return[2018,2019,2020,2021,2022]},S=function(){return{marginLeft:"20px"}},j=function(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]};class f{constructor(){this.queryChange=new n.vpe}}f.\u0275fac=function(e){return new(e||f)},f.\u0275cmp=n.Xpm({type:f,selectors:[["app-filters"]],inputs:{query:"query"},outputs:{queryChange:"queryChange"},standalone:!0,features:[n.jDz],decls:12,vars:8,consts:[["appSelectFilter","season",3,"value","queryChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngStyle"],["appSelectFilter","round",3,"value","queryChange"],["value","all"],[3,"value"]],template:function(e,t){1&e&&(n.TgZ(0,"mat-form-field")(1,"mat-label"),n._uU(2,"Season"),n.qZA(),n.TgZ(3,"mat-select",0),n.NdJ("queryChange",function(r){return t.queryChange.emit(r)}),n.YNc(4,O,2,2,"mat-option",1),n.qZA()(),n.TgZ(5,"mat-form-field",2)(6,"mat-label"),n._uU(7,"Round"),n.qZA(),n.TgZ(8,"mat-select",3),n.NdJ("queryChange",function(r){return t.queryChange.emit(r)}),n.TgZ(9,"mat-option",4),n._uU(10,"All"),n.qZA(),n.YNc(11,U,2,2,"mat-option",1),n.qZA()()),2&e&&(n.xp6(3),n.Q6J("value",null==t.query?null:t.query.season),n.xp6(1),n.Q6J("ngForOf",n.DdM(5,D)),n.xp6(1),n.Q6J("ngStyle",n.DdM(6,S)),n.xp6(3),n.Q6J("value",null==t.query?null:t.query.round),n.xp6(3),n.Q6J("ngForOf",n.DdM(7,j)))},dependencies:[i.ez,i.sg,i.PC,m.lN,m.KE,m.hX,Z.LD,Z.gD,M.ey,x.f],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});const z=function(a,e){return{count:a,result:e}};function L(a,e){if(1&a){const t=n.EpF();n.ynx(0),n.TgZ(1,"h2"),n._uU(2),n.qZA(),n.TgZ(3,"app-table-preview",3),n.NdJ("queryChange",function(r){n.CHM(t);const c=n.oxw(2);return n.KtG(c.onQueryChange(r))}),n.ALo(4,"async"),n.qZA(),n._UZ(5,"br")(6,"hr")(7,"br"),n.BQk()}if(2&a){const t=e.$implicit,s=e.last,r=n.oxw().ngIf,c=n.oxw();n.xp6(2),n.AsE("",t.season," ",t.raceName,""),n.xp6(1),n.Q6J("columns",c.columns)("data",n.WLB(8,z,r.count,t.QualifyingResults))("query",n.lcZ(4,6,c.facade.queryParams$))("showPagination",s)}}function _(a,e){if(1&a&&(n.ynx(0),n.YNc(1,L,8,11,"ng-container",2),n.BQk()),2&a){const t=e.ngIf;n.xp6(1),n.Q6J("ngForOf",t.result)}}function Y(a,e){1&a&&n._UZ(0,"app-full-screen-loading-spinner")}class p{constructor(){this.facade=(0,n.f3M)(u),this.route=(0,n.f3M)(g.gz),this.router=(0,n.f3M)(g.F0),this.columns=[{name:"pos",title:"Pos",value:e=>e.position},{name:"no",title:"No",value:e=>e.number},{name:"driver",title:"Driver",value:({Driver:e})=>`${e.givenName} ${e.familyName}`},{name:"constructor",title:"Constructor",value:({Constructor:e})=>e.name},{name:"q1",title:"Q1",value:e=>e.Q1},{name:"q2",title:"Q2",value:e=>e.Q2},{name:"q3",title:"Q3",value:e=>e.Q3}]}onQueryChange(e){var t=this;return(0,F.Z)(function*(){return yield t.router.navigate([],{queryParams:P({...t.route.snapshot.queryParams,...e})})})()}}p.\u0275fac=function(e){return new(e||p)},p.\u0275cmp=n.Xpm({type:p,selectors:[["app-qualifying"]],standalone:!0,features:[n._Bn([u]),n.jDz],decls:8,vars:9,consts:[[3,"query","queryChange"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"columns","data","query","showPagination","queryChange"]],template:function(e,t){1&e&&(n.TgZ(0,"h1"),n._uU(1,"Qualifying Results per race"),n.qZA(),n.TgZ(2,"app-filters",0),n.NdJ("queryChange",function(r){return t.onQueryChange(r)}),n.ALo(3,"async"),n.qZA(),n.YNc(4,_,2,1,"ng-container",1),n.ALo(5,"async"),n.YNc(6,Y,1,0,"app-full-screen-loading-spinner",1),n.ALo(7,"async")),2&e&&(n.xp6(2),n.Q6J("query",n.lcZ(3,3,t.facade.queryParams$)),n.xp6(2),n.Q6J("ngIf",n.lcZ(5,5,t.facade.data$)),n.xp6(2),n.Q6J("ngIf",n.lcZ(7,7,t.facade.loading$)))},dependencies:[i.ez,i.sg,i.O5,i.Ov,f,q.m,q.a],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});const I=[{path:"",component:p,providers:[l]}]}}]);